<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Huella de Carbono - Estudiantes de Octavo Semestre A</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
  <style>
    /* === ESTILOS GENERALES === */
    body {
      background-color: #0e1813;
      color: #e8f3eb;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
    }
    h1, h2 {
      color: #7fffd4;
      text-align: center;
      margin-bottom: 20px;
      font-weight: 700;
      text-shadow: 0 0 10px #1c4631;
    }
    p, td, th {
      color: #d8ede2;
    }

    /* === TABLA === */
    table {
      background-color: #14261d;
      border-radius: 10px;
      overflow: hidden;
    }
    th {
      background-color: #1a5238;
      color: #eaf4ed;
    }
    tr:hover {
      background-color: #1f362b !important;
    }

    /* === TARJETAS DE INFORMACI√ìN === */
    .card {
      background-color: #163226;
      border: 1px solid #1f6d4b;
      border-radius: 12px;
      box-shadow: 0 0 15px #0f3d2e60;
      color: #bce6d2;
      transition: transform 0.2s ease;
    }
    .card:hover {
      transform: scale(1.03);
    }

    /* === CONCLUSIONES === */
    .conclusiones {
      margin-top: 60px;
    }
    .conclusiones h3 {
      color: #7fffd4;
      text-align: center;
      margin-bottom: 30px;
      font-weight: bold;
    }
    .conclusion-card {
      background-color: #143325;
      border-left: 5px solid #3ccf91;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 0 10px #1b4c36;
    }
    .conclusion-card h5 {
      color: #9fffc5;
      margin-bottom: 10px;
    }
    .conclusion-card p {
      margin: 0;
      color: #d7f0e0;
      text-align: justify;
    }

    /* === RESPONSIVE === */
    @media (max-width: 768px) {
      h1 { font-size: 1.6rem; }
      h2 { font-size: 1.3rem; }
      .card { margin-bottom: 15px; }
    }
  </style>
</head>
<body>
  <h1>üåø Huella de Carbono - Estudiantes de Octavo Semestre A</h1>
  <p class="text-center mb-4">An√°lisis del impacto ambiental en toneladas de CO‚ÇÇ derivado de vivienda, transporte y consumo personal.</p>

  <!-- === TABLA DE DATOS === -->
  <div class="table-responsive mb-5">
    <table id="tablaHuella" class="table table-striped table-bordered table-hover align-middle text-center">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Huella Total (ton)</th>
          <th>Vivienda (ton)</th>
          <th>Viajar (ton)</th>
          <th>Consumo (ton)</th>
        </tr>
      </thead>
      <tbody id="datosTabla"></tbody>
    </table>
  </div>

  <!-- === TARJETAS DE DATOS === -->
  <div class="row text-center mb-4">
    <div class="col-md-4">
      <div class="card p-3">
        <h5>Promedio general</h5>
        <p id="promedioTotal" class="fs-4 fw-bold"></p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-3">
        <h5>Mayor huella</h5>
        <p id="mayorHuella" class="fs-5 fw-semibold"></p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-3">
        <h5>Menor huella</h5>
        <p id="menorHuella" class="fs-5 fw-semibold"></p>
      </div>
    </div>
  </div>

  <!-- === GR√ÅFICOS === -->
  <h2>üìä Comparativa de Huella Total</h2>
  <canvas id="graficoTotal" height="120"></canvas>

  <h2 class="mt-5">üè† Distribuci√≥n Promedio por Categor√≠a</h2>
  <canvas id="graficoCategorias" height="100"></canvas>

  <!-- === CONCLUSIONES GENERALES === -->
  <div class="conclusiones">
    <h3>üü¢ Conclusiones Generales</h3>

    <div class="conclusion-card">
      <h5>üåç 1. Promedio general estable</h5>
      <p>El promedio general de la huella de carbono del grupo se mantiene dentro de un rango moderado, indicando un comportamiento ambientalmente equilibrado entre los estudiantes.</p>
    </div>

    <div class="conclusion-card">
      <h5>üöó 2. El transporte, el mayor contribuyente</h5>
      <p>La categor√≠a ‚ÄúViajar‚Äù representa el componente m√°s variable y en algunos casos el m√°s alto, lo que sugiere la necesidad de promover el uso de medios sostenibles como bicicletas, caminatas o transporte compartido.</p>
    </div>

    <div class="conclusion-card">
      <h5>üè† 3. Vivienda con impacto controlado</h5>
      <p>El consumo energ√©tico dom√©stico es relativamente bajo en la mayor√≠a de los casos, mostrando buenas pr√°cticas en eficiencia energ√©tica y consumo responsable.</p>
    </div>

    <div class="conclusion-card">
      <h5>üõçÔ∏è 4. Consumo personal equilibrado</h5>
      <p>El componente de consumo (alimentaci√≥n y bienes) refleja h√°bitos moderados, aunque a√∫n se puede reducir el impacto optando por productos locales y sostenibles.</p>
    </div>

    <div class="conclusion-card">
      <h5>üå± 5. Compromiso ambiental a futuro</h5>
      <p>Se recomienda fortalecer la educaci√≥n ambiental y fomentar actividades que reduzcan la huella de carbono grupal, promoviendo un estilo de vida m√°s sostenible en el entorno universitario y cotidiano.</p>
    </div>
  </div>

  <!-- === SCRIPT FUNCIONAL === -->
  <script>
    const datos = [
      {nombre:"Aguirre Luis Boris Rajabil", total:6.1, vivienda:1, viajar:1.9, consumo:3.2},
      {nombre:"Anco Porras Jhean Piaget Nando", total:14, vivienda:0.7, viajar:9.1, consumo:4.2},
      {nombre:"Apolinario Raymundo El√≠as", total:6.1, vivienda:0.8, viajar:1.7, consumo:3.6},
      {nombre:"Bailon Perez Iv√°n", total:2.6, vivienda:0.6, viajar:0.3, consumo:1.7},
      {nombre:"Baldeon C√≥rdova √Ångel Arturo", total:3.5, vivienda:0, viajar:0.4, consumo:3.1},
      {nombre:"Barra Solano Lizeth", total:8.4, vivienda:0.8, viajar:5.4, consumo:2.2},
      {nombre:"Cahuana Ayala Esther Nicole", total:4.9, vivienda:1.1, viajar:0.2, consumo:3.6},
      {nombre:"Canto Suasnabar Alfredo Tavi", total:3.9, vivienda:0.7, viajar:0.3, consumo:2.9},
      {nombre:"Capcha Poma √Ångel Lenin", total:4.2, vivienda:1, viajar:0.8, consumo:2.4},
      {nombre:"Carhuapoma Taype Johan Sergio", total:5.4, vivienda:0.9, viajar:1.6, consumo:2.9},
      {nombre:"Castilla Correa Ingrid Sara", total:2.9, vivienda:0.6, viajar:0.6, consumo:1.7},
      {nombre:"Castillo Damian Cesia", total:2.9, vivienda:0.6, viajar:0.1, consumo:2.2},
      {nombre:"Cueto Ramos Geser", total:4.2, vivienda:1.2, viajar:0.3, consumo:2.7},
      {nombre:"Huarmartica Rahul Yenifer Paola", total:4, vivienda:0.9, viajar:0.4, consumo:2.7},
      {nombre:"Huiza Melchor Jose Luis", total:4.9, vivienda:0.2, viajar:1.3, consumo:3.4},
      {nombre:"Maycol George De La Cruz Monta√±ez", total:3.3, vivienda:0.5, viajar:0.3, consumo:2.5},
      {nombre:"Perez Macuri Paola", total:5.3, vivienda:0.7, viajar:1.3, consumo:3.3},
      {nombre:"Suarez Torres Cris Duran", total:5.3, vivienda:1.1, viajar:0.5, consumo:3.7},
      {nombre:"Adriano Pariona Jhol", total:3.6, vivienda:0.7, viajar:0.4, consumo:2.5},
      {nombre:"Alvino C√≥ndor Andrea Alexandra", total:6.9, vivienda:1.6, viajar:1.6, consumo:3.7},
      {nombre:"Casta√±eda Estrella Giomira Edith", total:6.6, vivienda:0.9, viajar:2.9, consumo:2.8}
    ];

    // --- Rellenar tabla ---
    const cuerpoTabla = document.getElementById("datosTabla");
    datos.forEach(d => {
      cuerpoTabla.innerHTML += `<tr>
        <td>${d.nombre}</td>
        <td>${d.total}</td>
        <td>${d.vivienda}</td>
        <td>${d.viajar}</td>
        <td>${d.consumo}</td>
      </tr>`;
    });

    // --- C√°lculos ---
    const promedio = (arr, campo) => arr.reduce((a,b)=>a+b[campo],0)/arr.length;
    const promedioTotal = promedio(datos, "total").toFixed(2);
    document.getElementById("promedioTotal").textContent = promedioTotal + " ton CO‚ÇÇ";

    const mayor = datos.reduce((max,d)=>d.total>max.total?d:max);
    const menor = datos.reduce((min,d)=>d.total<min.total?d:min);
    document.getElementById("mayorHuella").textContent = `${mayor.nombre} (${mayor.total} ton)`;
    document.getElementById("menorHuella").textContent = `${menor.nombre} (${menor.total} ton)`;

    // --- Gr√°fico comparativo ---
    new Chart(document.getElementById("graficoTotal"), {
      type: 'bar',
      data: {
        labels: datos.map(d=>d.nombre),
        datasets: [{
          label: "Huella Total (ton CO‚ÇÇ)",
          data: datos.map(d=>d.total),
          backgroundColor: datos.map(() => 
            `hsl(${Math.random() * 100 + 120}, 50%, 55%)` // tonalidades verdes y azuladas
          ),
          borderColor: '#7fffd4',
          borderWidth: 1
        }]
      },
      options: {
        plugins:{legend:{display:false}},
        scales:{
          x:{ticks:{color:"#aef7d9"}},
          y:{ticks:{color:"#aef7d9"}}
        }
      }
    });

    // --- Gr√°fico por categor√≠as ---
    new Chart(document.getElementById("graficoCategorias"), {
      type: 'pie',
      data: {
        labels: ["Vivienda", "Viajar", "Consumo"],
        datasets: [{
          data: [
            promedio(datos,"vivienda").toFixed(2),
            promedio(datos,"viajar").toFixed(2),
            promedio(datos,"consumo").toFixed(2)
          ],
          backgroundColor: ["#6edaa8", "#4fc0b0", "#73c8e0"]
        }]
      },
      options: {
        plugins:{legend:{labels:{color:"#aef7d9", font:{size:14}}}}
      }
    });
  </script>
</body>
</html>
